<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <link rel="stylesheet" href="core/qunit.css" type="text/css" media="screen" />
		<script type="text/javascript" src="../jquery.js"></script>
        <script type="text/javascript" src="core/qunit.js"></script>
        <script type="text/javascript" src="../Mobile/MyHealth.DataStorage_Sql.js"></script>
        <script type="text/javascript">
            $(document).ready(function () {

                OpenDatabase();
                //CreateDataStore();
                alert('DB created');
                 CleanTables();

                QUnit.log = function (result, message) {
                    if (window.console && window.console.log) {
                        window.console.log(result + ' :: ' + message);
                    };
                }
                module("Basic Unit Test");
                test("Sample test", function () {
                    expect(1);
                    equals(divide(4, 2), 2, 'Expected 2 as the result, result was ' + divide(4, 2));
                });

                function divide(a, b) {
                    return a / b;
                }


                test("Can construct Patient", function () {
                    expect(1);
                    var patient = newPatient('Smith', 'John', '01/01/2001');
                    equals(patient.firstName, 'John', 'Expected John as the result, result was ' + patient.firstName);
                });

                test("Can Insert Patient into DB", function () {
                    expect(1);
                    var dob = new Date().getDate();
                    var patient = createPatient('John', 'Smith', dob);
                    alert('After Get Patient: ' + patient);

                    equals(patient.firstName, 'John', 'Expected John as the result, result was ' + patient.firstName);
                });


                test("Can retrieve Patient", function () {
                    expect(1);
                    var dob = new Date().getDate();
                    var patient = GetPatient(24);
                    alert('After Get Patient: ' + patient);

                    equals(patient.firstName, 'John', 'Expected John as the result, result was ' + patient.firstName);
                });

            });
        </script>
    </head>
    <body>
        <h1 id="qunit-header">QUnit example</h1>
        <h2 id="qunit-banner"></h2>
        <h2 id="qunit-userAgent"></h2>
        <ol id="qunit-tests">
        </ol>
    </body>
</html>
